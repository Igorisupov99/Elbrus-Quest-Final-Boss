// Ð¢ÐµÑÑ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ð²Ð°Ð½Ð¸Ñ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¿Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ
const MessageManager = require('./server/src/services/MessageManager.js');

// Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹
const testQuestions = [
  // ÐžÑ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ
  'ÐšÐ°ÐºÐ¾Ð¹ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð»Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°?',
  
  // Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ð± Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°Ñ…
  'ÐšÐ°ÐºÐ¾Ð¹ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°?',
  'ÐšÐ°ÐºÐ¾Ð¹ Ð±Ð»Ð¾Ðº ÐºÐ¾Ð´Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð² else?',
  'ÐšÐ°ÐºÐ°Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð½ÑƒÐ¶Ð½Ð° Ð´Ð»Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°?',
  'ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð»Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°',
  'Ð‘Ð»Ð¾Ðº ÐºÐ¾Ð´Ð° Ð² else',
  'Ð§Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ ?',
  'Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ ÑÐ¸Ð¼Ð²Ð¾Ð» : Ð² ÐºÐ¾Ð´Ðµ?',
  'ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ &&?',
  'Ð”Ð»Ñ Ñ‡ÐµÐ³Ð¾ Ð½ÑƒÐ¶ÐµÐ½ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ ||?',
  'Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ if Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸?',
  'Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ else Ð² ÐºÐ¾Ð´Ðµ?',
  'ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ switch ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ?',
  'Ð¡Ð¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ Ð´Ð»Ñ ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°',
  'ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°',
  'Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°',
  'Ð’Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°',
  'Ð£ÑÐ»Ð¾Ð²Ð¸Ðµ Ð´Ð»Ñ Ð²ÐµÑ‚Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð´Ð°',
  'Ð¦Ð¸ÐºÐ» Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ±Ð¾Ñ€Ð° Ð¼Ð°ÑÑÐ¸Ð²Ð°',
  'Ð’ÐµÑ‚Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¾ÑˆÐ¸Ð±Ð¾Ðº',
  'ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° Ð´Ð»Ñ ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ',
  
  // ÐÐµÐ¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ÑÐºÐ¸Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ (Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ñ‹)
  'Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð»ÑŽÐ±Ð¾Ð²ÑŒ?',
  'ÐšÐ°Ðº Ð¿Ñ€Ð¸Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ€Ñ‰?',
  'ÐšÐ°ÐºÐ°Ñ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð¿Ð¾Ð³Ð¾Ð´Ð°?',
  'Ð Ð°ÑÑÐºÐ°Ð¶Ð¸ Ð°Ð½ÐµÐºÐ´Ð¾Ñ‚'
];

console.log('ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ð²Ð°Ð½Ð¸Ñ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¿Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ\n');

let passedTests = 0;
let totalTests = testQuestions.length;

testQuestions.forEach((question, index) => {
  const isRelated = MessageManager.isProgrammingRelated(question);
  const shouldBeRelated = index < testQuestions.length - 4; // ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 4 - Ð½ÐµÐ¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ÑÐºÐ¸Ðµ
  
  const status = isRelated === shouldBeRelated ? 'âœ…' : 'âŒ';
  const category = isRelated ? 'ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐ˜Ð ÐžÐ’ÐÐÐ˜Ð•' : 'ÐÐ• ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐ˜Ð ÐžÐ’ÐÐÐ˜Ð•';
  
  console.log(`${status} ${index + 1}. "${question}"`);
  console.log(`   Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: ${category}`);
  
  if (isRelated === shouldBeRelated) {
    passedTests++;
  } else {
    console.log(`   âš ï¸  ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ: ${shouldBeRelated ? 'ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐ˜Ð ÐžÐ’ÐÐÐ˜Ð•' : 'ÐÐ• ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐ˜Ð ÐžÐ’ÐÐÐ˜Ð•'}`);
  }
  console.log('');
});

console.log(`ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:`);
console.log(`   ÐŸÑ€Ð¾Ð¹Ð´ÐµÐ½Ð¾: ${passedTests}/${totalTests} Ñ‚ÐµÑÑ‚Ð¾Ð²`);
console.log(`   Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ÑÑ‚ÑŒ: ${Math.round((passedTests / totalTests) * 100)}%`);

if (passedTests === totalTests) {
  console.log('ðŸŽ‰ Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾!');
} else {
  console.log('âš ï¸  ÐÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾ÑˆÐ»Ð¸. Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°.');
}
